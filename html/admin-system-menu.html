<!doctype html>
<html>
<head>
    <title>MTUI后台模板</title>
    <meta name="description" content="Mantou">
    <meta name="keywords" content="Mantou">
    <include src="public/meta.html"></include>
    <link rel="stylesheet" type="text/css" href="../assets/css/admin.css" />
</head>
<body>

<!--header-->
<include src="public/admin-header.html" data-name="菜单设置"></include> 

<!--menu-->
<include src="public/admin-sideMenu.html" data-menu="system"></include> 

<!--主要内容区域-->
<div class="mt-main-content">

  <div class="mt-content-1x admin-member-add">
    
    <h3>菜单设置</h3>
    <div class="mt-g">
        <div class="mt-g-12 admin-select-menu">

                <ul>
                    <li class="menuli">
                        <div class="title"><label class="mt-checkbox"><input value="1" type="checkbox"> <i class="iconfont icon-duigou"></i> <span>一级菜单</span></label></div>
                        <ul class="sub">
                            <div class="subbox">
                                <label class="mt-checkbox"><input value="11" type="checkbox" disabled="disabled"> <i class="iconfont icon-duigou"></i> <span>二级菜单</span></label>
                            </div>
                            <div class="admin-selectbox">
                                <label class="mt-checkbox"><input value="111" type="checkbox" disabled="disabled"> <i class="iconfont icon-duigou"></i> <span>选项</span></label>
                                <label class="mt-checkbox"><input value="112" type="checkbox" disabled="disabled"> <i class="iconfont icon-duigou"></i> <span>选项</span></label>
                                <label class="mt-checkbox"><input value="113" type="checkbox" disabled="disabled"> <i class="iconfont icon-duigou"></i> <span>选项</span></label>
                                <label class="mt-checkbox"><input value="114" type="checkbox" disabled="disabled"> <i class="iconfont icon-duigou"></i> <span>选项</span></label>
                            </div>
                        </ul>
                        <ul class="sub">
                            <div class="subbox">
                                <label class="mt-checkbox"><input value="12" type="checkbox" disabled="disabled"> <i class="iconfont icon-duigou"></i> <span>二级菜单</span></label>
                            </div>
                            <div class="admin-selectbox">
                                <label class="mt-checkbox"><input value="121" type="checkbox" disabled="disabled"> <i class="iconfont icon-duigou"></i> <span>选项</span></label>
                                <label class="mt-checkbox"><input value="122" type="checkbox" disabled="disabled"> <i class="iconfont icon-duigou"></i> <span>选项</span></label>
                                <label class="mt-checkbox"><input value="123" type="checkbox" disabled="disabled"> <i class="iconfont icon-duigou"></i> <span>选项</span></label>
                                <label class="mt-checkbox"><input value="124" type="checkbox" disabled="disabled"> <i class="iconfont icon-duigou"></i> <span>选项</span></label>
                            </div>
                        </ul>
                        <ul class="sub">
                            <div class="subbox">
                                <label class="mt-checkbox"><input value="13" type="checkbox" disabled="disabled"> <i class="iconfont icon-duigou"></i> <span>二级菜单</span></label>
                            </div>
                            <div class="admin-selectbox">
                                <label class="mt-checkbox"><input value="131" type="checkbox" disabled="disabled"> <i class="iconfont icon-duigou"></i> <span>选项</span></label>
                                <label class="mt-checkbox"><input value="132" type="checkbox" disabled="disabled"> <i class="iconfont icon-duigou"></i> <span>选项</span></label>
                                <label class="mt-checkbox"><input value="133" type="checkbox" disabled="disabled"> <i class="iconfont icon-duigou"></i> <span>选项</span></label>
                                <label class="mt-checkbox"><input value="134" type="checkbox" disabled="disabled"> <i class="iconfont icon-duigou"></i> <span>选项</span></label>
                            </div>
                        </ul>
                    </li>

                    <li class="menuli">
                        <div class="title"><label class="mt-checkbox"><input value="2" type="checkbox"> <i class="iconfont icon-duigou"></i> <span>一级菜单</span></label></div>
                        <ul class="sub">
                            <div class="subbox">
                                <label class="mt-checkbox"><input value="21" type="checkbox" disabled="disabled"> <i class="iconfont icon-duigou"></i> <span>二级菜单</span></label>
                            </div>
                            <div class="admin-selectbox">
                                <label class="mt-checkbox"><input value="212" type="checkbox" disabled="disabled"> <i class="iconfont icon-duigou"></i> <span>选项</span></label>
                                <label class="mt-checkbox"><input value="213" type="checkbox" disabled="disabled"> <i class="iconfont icon-duigou"></i> <span>选项</span></label>
                                <label class="mt-checkbox"><input value="214" type="checkbox" disabled="disabled"> <i class="iconfont icon-duigou"></i> <span>选项</span></label>
                                <label class="mt-checkbox"><input value="215" type="checkbox" disabled="disabled"> <i class="iconfont icon-duigou"></i> <span>选项</span></label>
                            </div>
                        </ul>
                    </li>

                    <li class="menuli">
                        <div class="title"><label class="mt-checkbox"><input value="3" type="checkbox"> <i class="iconfont icon-duigou"></i> <span>一级菜单</span></label></div>
                        <ul class="sub">
                            <div class="subbox">
                                <label class="mt-checkbox"><input value="31" type="checkbox" disabled="disabled"> <i class="iconfont icon-duigou"></i> <span>二级菜单</span></label>
                            </div>
                            <div class="admin-selectbox">
                                <label class="mt-checkbox"><input value="311" type="checkbox" disabled="disabled"> <i class="iconfont icon-duigou"></i> <span>选项</span></label>
                                <label class="mt-checkbox"><input value="312" type="checkbox" disabled="disabled"> <i class="iconfont icon-duigou"></i> <span>选项</span></label>
                                <label class="mt-checkbox"><input value="313" type="checkbox" disabled="disabled"> <i class="iconfont icon-duigou"></i> <span>选项</span></label>
                                <label class="mt-checkbox"><input value="314" type="checkbox" disabled="disabled"> <i class="iconfont icon-duigou"></i> <span>选项</span></label>
                            </div>
                        </ul>
                    </li>

                </ul>
            
            <a href="javascript:;" class="mt-btn-blue submits ink-reaction">提交</a>

        </div>
    </div>

  </div>

</div>


</body>
<script>
$(function(){

    $(".admin-select-menu").on('click', '.title input:checkbox', function(e) {
        if($(this).is(':checked')){
            $(this).closest('.menuli').find(".subbox input:checkbox").removeAttr("disabled");
        }else{
            $(this).closest('.menuli').find(".subbox input:checkbox").each(function(index, el) {
                if($(this).is(':checked')){
                    $(this).trigger('click');
                }
                $(this).attr("disabled","disabled")
            });
        }
    }).on('click', '.subbox  input:checkbox', function(e) {
        if($(this).is(':checked')){
            $(this).closest('.sub').find(".admin-selectbox input:checkbox").removeAttr("disabled");
        }else{
            $(this).closest('.sub').find(".admin-selectbox input:checkbox").each(function(index, el) {
                if($(this).is(':checked')){
                    $(this).trigger('click');
                }
                $(this).attr("disabled","disabled");
            });
        }
    });


    //提交
    $(".submits").on('click', function(e) {
        var $menu = $(".admin-select-menu");
        //var $checkbox = $menu.find("input:checkbox");
        var data = {};

        //一级菜单
        data.menu = [];
        data.submenu = [];
        data.option = [];
        $menu.find('.title input:checkbox').each(function(index, el) {
            if($(this).is(':checked')){
                data.menu.push($(this).val());
            }
        });
        $menu.find('.subbox input:checkbox').each(function(index, el) {
            if($(this).is(':checked')){
                data.submenu.push($(this).val());
            }
        });
        $menu.find('.admin-selectbox input:checkbox').each(function(index, el) {
            if($(this).is(':checked')){
                data.option.push($(this).val());
            }
        });

        console.log(data);

    });

});
</script>
</html>
